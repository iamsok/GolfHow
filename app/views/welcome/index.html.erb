<% if user_signed_in? %>

<div class="row">
  <div class="large-12 topic columns">
    <% @data.each do |swing| %>
      <a href="#" class="button round" data-dropdown="<%= swing.keys[0] %>"><%= swing.keys[0] %></a>
      <ul id="<%= swing.keys[0] %>" class="f-dropdown list" data-dropdown-content>
        <% swing.values[0].each do |point| %>
          <li><%= point %></li>
          <% end %>
      </ul>
    <% end %>
  </div>
</div>


<div class="searchbar">
  <%= form_tag(root_path, :method => "get", id: "search-form") do %>
    <%= text_field_tag :search, params[:search], placeholder: "Search for videos on YouTube", class: "radius search-input", name: 'search' %>
    <%= submit_tag "Search", class: "button tiny radius search-button", :title => nil %>
  <% end %>
  <embed width="100%" height="500" src="<%= @video_url %>">
</div>

<% end %>

<% if !user_signed_in? %>

<div class="welcome-bg">
    <div class="intro">
      <h3><strong>GolfHow</strong> Find golf training videos all in one place!</h3>
      <%= link_to "Get Started Today!", new_user_registration_path, class: "button round" %><br>
      <div class="font-color">
        <%= link_to "Sign in", new_user_session_path %>
      </div>
    </div>
  </div>
</div>

<% end %>
<div class="findgolf">
  <h3>Feel like practicing? Here are some places nearby for you to check out!</h3>
</div>

<div class="small-6 small-offset-3 columns">
  <div id="googleMap" style="width:600px;height:380px;"></div>
</div>
<% content_for :extra_javascript do %>
  <script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDY0kkJiTPVd2U7aTOAwhc9ySH6oHxOIYM&sensor=false">
  </script>

<script>
var myCenter=new google.maps.LatLng(42.356728,-71.060427);

function initialize()
{
var mapProp = {
  center: myCenter,
  zoom:14,
  mapTypeId: google.maps.MapTypeId.ROADMAP
  };

var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

var marker = new google.maps.Marker({
  position: myCenter,
  title:'Click to zoom'
  });

marker.setMap(map);

// Zoom to 9 when clicking on marker
google.maps.event.addListener(marker,'click',function() {
  map.setZoom(9);
  map.setCenter(marker.getPosition());
  });
}
google.maps.event.addDomListener(window, 'load', initialize);
</script>
<% end %>
